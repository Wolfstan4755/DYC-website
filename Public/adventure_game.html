<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Search for St. Edmund Campion</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header class="confined-text">
        <h1>The Search for St. Edmund Campion</h1>
    </header>
    <main class="full-width-container">
        <div id="game-text">
            <p>You are a young boy named Thomas, living in Elizabethan England. You have heard stories of the heroic Catholic priest, St. Edmund Campion, who risks his life to minister to persecuted Catholics. Determined to meet him, you embark on a dangerous journey to find this elusive priest and seek his guidance. Your choices will determine your success. Will you find St. Edmund Campion and fulfill your mission?</p>
        </div>
        <ul id="choices">
            <li><button onclick="firstChoice()">Start your journey</button></li>
        </ul>
    </main>
    <script>
        function updateGameText(text) {
            document.getElementById('game-text').innerHTML = text;
        }

        function updateChoices(choices) {
            const choicesList = document.getElementById('choices');
            choicesList.innerHTML = '';
            choices.forEach(choice => {
                choicesList.innerHTML += `<li><button onclick="${choice.action}">${choice.text}</button></li>`;
            });
        }

        function firstChoice() {
            updateGameText("You overhear a secret conversation in your village about a hidden priest who will be celebrating Mass nearby. What do you do?");
            updateChoices([
                { text: "Approach the speaker and ask for more information.", action: "approachSpeaker()" },
                { text: "Quietly follow them and see where they go.", action: "followSpeaker()" }
            ]);
        }

        function approachSpeaker() {
            updateGameText("You approach the speaker and ask about the hidden priest. They tell you to go to a farmhouse on the edge of the village after dark, but warn you to be careful of spies.");
            farmhouseChoice();
        }

        function followSpeaker() {
            updateGameText("You quietly follow the speaker and see them enter a secluded farmhouse. You notice guards patrolling nearby. Do you...");
            updateChoices([
                { text: "Try to sneak inside the farmhouse to find the priest.", action: "sneakInside()" },
                { text: "Wait outside and watch for an opportunity to approach someone.", action: "waitOutside()" }
            ]);
        }

        function farmhouseChoice() {
            updateGameText("As night falls, you approach the farmhouse. You see two paths: one leads through the woods, offering cover, but might be dangerous. The other is a clear path, but it leaves you exposed. What do you do?");
            updateChoices([
                { text: "Take the wooded path.", action: "woodedPath()" },
                { text: "Take the clear path.", action: "clearPath()" }
            ]);
        }

        function sneakInside() {
            updateGameText("You manage to sneak inside the farmhouse and find a group of Catholics preparing for Mass. A man steps forwardâ€”it is St. Edmund Campion! He greets you warmly and offers to hear your story after the Mass.");
            finalEncounter();
        }

        function waitOutside() {
            updateGameText("You wait outside and eventually see a group of people leaving the farmhouse. You approach a kind-looking woman who tells you the priest has gone into hiding again. Your story ends with hope but no resolution.");
        }

        function woodedPath() {
            updateGameText("You take the wooded path and narrowly avoid a patrol of guards. You arrive at the farmhouse safely and are welcomed inside by a servant who recognizes your intentions. Inside, you finally meet St. Edmund Campion.");
            finalEncounter();
        }

        function clearPath() {
            updateGameText("You take the clear path but are spotted by a patrol. The guards question you, and though you manage to escape, you lose your chance to meet the priest tonight. Do you...");
            updateChoices([
                { text: "Return home and plan to try again another day.", action: "returnHome()" },
                { text: "Look for another clue nearby, despite the risks.", action: "trappedScenario()" }
            ]);
        }

        function returnHome() {
            updateGameText("You return home, knowing the search is not over. You resolve to be more cautious next time.");
            firstChoice();
        }

        function trappedScenario() {
            updateGameText("As you continue your search, you stumble into a trap set by the guards. They lock you in a small shed, planning to question you later. You notice a loose plank on the wall and see a chance to escape. Do you...");
            updateChoices([
                { text: "Try to pry the plank loose and escape.", action: "escapeScenario()" },
                { text: "Wait for the guards to leave and then look for another way out.", action: "waitForGuards()" }
            ]);
        }

        function escapeScenario() {
            updateGameText("You manage to pry the plank loose and slip out of the shed. You find yourself in the woods, but you can hear the guards searching for you. Do you...");
            updateChoices([
                { text: "Run deeper into the woods to hide.", action: "runDeeper()" },
                { text: "Try to find your way back to the farmhouse.", action: "findFarmhouse()" }
            ]);
        }

        function runDeeper() {
            updateGameText("You run deeper into the woods, hiding behind trees and bushes. After a while, the guards give up the search, and you find a safe spot to rest. You realize that your journey is far from over, but you are determined to find St. Edmund Campion.");
            firstChoice();
        }

        function findFarmhouse() {
            updateGameText("You cautiously make your way back to the farmhouse, hoping to find St. Edmund before he leaves. You arrive just in time to see him preparing to depart.");
            finalEncounter();
        }

        function waitForGuards() {
            updateGameText("You decide to wait for the guards to leave. After a while, you hear them walking away, and you take the opportunity to look for a way out. You find a window that you can squeeze through. Do you...");
            updateChoices([
                { text: "Climb out the window and escape.", action: "climbOut()" },
                { text: "Look for something to defend yourself with before escaping.", action: "findWeapon()" }
            ]);
        }

        function climbOut() {
            updateGameText("You climb out the window and make a run for it. You manage to evade the guards and find yourself back in the safety of the woods.");
            firstChoice();
        }

        function findWeapon() {
            updateGameText("You find a sturdy stick and prepare yourself. As you climb out, you encounter a guard who has returned. You manage to fend him off and escape into the woods.");
            firstChoice();
        }

        function finalEncounter() {
            updateGameText("After the Mass, St. Edmund Campion takes you aside and gives you a small cross, a symbol of faith and courage. He asks if you would like to accompany him on his journey, knowing the risks involved. Do you...");
            updateChoices([
                { text: "Agree to accompany him.", action: "agreeToAccompany()" },
                { text: "Decline and promise to carry on his legacy in your own way.", action: "declineOffer()" }
            ]);
        }

        function agreeToAccompany() {
            updateGameText("You decide to accompany St. Edmund. Together, you face many dangers, but you learn valuable lessons about faith and bravery. Unfortunately, you are eventually captured, but your spirit remains unbroken. You carry his teachings with you, inspiring others.");
        }

        function declineOffer() {
            updateGameText("You decline the offer, understanding the dangers that lie ahead. Instead, you promise to carry on his legacy by helping others in your village. You become a beacon of hope for those around you, sharing the stories of St. Edmund Campion and the importance of faith.");
        }
    </script>
</body>
</html>